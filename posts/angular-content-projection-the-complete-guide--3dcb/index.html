<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>IMM9O | </title>
    <style>* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
}

body {
  text-align: center;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial,
    sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
  color: #444;
  font-size: 16px;
  line-height: 1.6;
}

@media (min-width: 800px) {
  body {
    font-size: 20px;
  }
}
a:link,
a:visited {
  color: #222;
}

header,
footer {
  padding-top: 2em;
  padding-bottom: 2em;
  margin-bottom: 4em;
  font-size: 0.7em;
  color: #888;
}

header {
  border-bottom: solid 1px #eee;
}

footer {
  margin-top: 6em;
  border-top: solid 1px #eee;
}

header .container {
  display: -webkit-box;
  display: flex;
  -webkit-box-align: center;
  align-items: center;
  -webkit-box-pack: justify;
  justify-content: space-between;
}

.container {
  width: 90%;
  margin-left: auto;
  margin-right: auto;
  text-align: left;
}

@media (min-width: 800px) {
  .container {
    width: 700px;
  }
}
hr {
  border-style: none;
  border-bottom: solid 1px #eee;
  margin-top: 2em;
  margin-bottom: 3em;
}

.post-content img {
  width: 100%;
}

p.meta {
  color: #444;
  font-size: 0.8em;
}

ul.listing {
  list-style: none;
  list-style-position: outside;
  padding-top: 1em;
  padding-left: 0;
}
ul.listing li {
  margin-bottom: 3em;
}
ul.listing h3 {
  padding-top: 0;
  margin-top: 0;
}
ul.listing p.meta {
  padding-bottom: 0.5em;
  margin-bottom: 0;
}

h1,
h2,
h3,
h4 {
  font-family: sans-serif;
  line-height: 1.1;
  color: #111;
}

h2 {
  font-size: 34px;
  letter-spacing: -0.01em;
}
h2 small {
  font-size: 0.5em;
  font-weight: normal;
  color: #888;
}

h3 {
  margin-top: 2em;
}

figure {
  margin-left: 0;
  margin-right: 0;
}

figcaption {
  text-align: center;
  color: #888;
  font-size: 0.7em;
}

blockquote {
  font-style: italic;
  margin-top: 0;
  margin-bottom: 0;
  margin-left: -2em;
  padding-left: 2em;
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-left: solid 3px #888;
}
blockquote em {
  font-style: normal;
}

pre {
  margin-top: 0;
  margin-bottom: 0;
  padding-left: 1em;
  padding-right: 1em;
  background-color: #eee;
  font-size: 0.7em;
  overflow-x: scroll;
}

nav {
  display: -webkit-box;
  display: flex;
  -webkit-box-orient: horizontal;
  -webkit-box-direction: reverse;
  flex-direction: row-reverse;
  -webkit-box-pack: justify;
  justify-content: space-between;
  -webkit-box-align: center;
  align-items: center;
}

nav ul {
  display: -webkit-box;
  display: flex;
  margin-bottom: 0;
  list-style-type: none;
  margin: 0 -3px;
}

nav > ul > a > li {
  margin: 0 3px;
  padding: 5px 15px;
  border-radius: 0.25rem;
  cursor: pointer;
  -webkit-transition: all 250ms;
  transition: all 250ms;
  font-size: 1rem;
  font-weight: 500;
}

nav > ul > li:hover {
  background: #40407a;
  color: #fff;
}

/** Dev.to */

.ltag__link {
  display: none;
}
</style>
  </head>
  <body>
    <header>
      	<div class="container">
			<h4>Islam Muhammad</h4>
			<nav>
				<ul>
					<a href="/"><li>Home</li><a/>
					<a href="/blog"><li>Blog</li><a/>
					<a href="/"><li>About</li><a/>
				</ul>
			</nav>
		</div>
    </header>
    <div class="container">
        
<p class="meta">
    Published on Mar 11 &#39;19 on <a href="https://dev.to/imm9o/angular-content-projection-the-complete-guide--3dcb" target="_blank">dev.to</a>
</p>
<div class="post-content">
  <h1>
  <a name="layout-composition" href="#layout-composition" class="anchor">
  </a>
  Layout Composition
</h1>

<blockquote>
<p>In this article we will explores the many ways layout composition can be done in angular.</p>
</blockquote>

<p>
  <a href="https://res.cloudinary.com/practicaldev/image/fetch/s--3gD2lOF_--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.unsplash.com/photo-1575470522418-b88b692b8084%3Fixlib%3Drb-1.2.1%26ixid%3DeyJhcHBfaWQiOjEyMDd9%26auto%3Dformat%26fit%3Dcrop%26w%3D1366%26q%3D80" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--3gD2lOF_--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.unsplash.com/photo-1575470522418-b88b692b8084%3Fixlib%3Drb-1.2.1%26ixid%3DeyJhcHBfaWQiOjEyMDd9%26auto%3Dformat%26fit%3Dcrop%26w%3D1366%26q%3D80" alt="Photo by Glen Carrie on Unsplash" loading="lazy"></a>
  </p>
<p>
      Photo by <a href="https://unsplash.com/@glencarrie">Glen Carrie</a>
      on <a href="https://unsplash.com/">Unsplash</a> 
   </p>


<p><strong>What is layout composition?</strong></p>

<p>In many ways, layout and composition are the building blocks of design. They give your work structure and make it easier to navigate, from the margins on the sides to the content in between. There are five basic principles that shapes layout composition</p>

<ul>
<li>Proximity</li>
<li>White space</li>
<li>Alignment</li>
<li>Contrast</li>
<li>Hierarchy</li>
</ul>

<p><strong>Notes:</strong> I am not going to explain each principles here as it is out of our scope but you can read this <a href="https://edu.gcfglobal.org/en/beginning-graphic-design/layout-and-composition/1/">awesome article</a> for more information.</p>

<p><strong>How i can do it in angular?</strong></p>

<ol>
<li>Component should render at <code>{x:0 , y:0}</code>
</li>
<li>Component <code>:host</code> style should be <code>display: block</code>
Why this important? to make it easy for outer component to set margin and width if we use the component inside other component.</li>
<li>Create tiny and reusable component as mush as you can.
How can i know if this part should be separated as a component?. The component should do one thing and one thing only.</li>
</ol>

<p><strong>What is layout composition techniques angular provided?</strong></p>

<p>This post explores the many ways Angular Components can be combined, mixed-in, and mixed-up, including:</p>

<ul>
<li>Content Projection components inside custom element (Layout &amp; Style Component).</li>
</ul>

<hr>
<h2>
  <a name="content-projection" href="#content-projection" class="anchor">
  </a>
  Content Projection
</h2>

<p><strong>What is content projection ?</strong></p>

<p>In Angular, content projection is used to project content in a component (angular.io).</p>

<p><strong>Why we use it?</strong></p>

<ol>
<li>Many Components in your app using same structure and style but the content are different, in another word <strong>Reusability</strong>.</li>
<li>You build a component for display only and the other component built for handling user actions, in another word <strong>Separation of concern</strong>.</li>
</ol>

<p><strong>How can i use it?</strong></p>

<p>Angular leverage using css selectors, html attributes and html element to achieve layout composition.</p>
<h3>
  <a name="singleslot" href="#singleslot" class="anchor">
  </a>
  Single-Slot
</h3>

<p>Basically you just add <code>&lt;ng-content&gt;&lt;/ng-content&gt;</code> in your html and this will replaced with content from outside the component<br>
</p>

<div class="highlight"><pre class="highlight html"><code><span class="c">&lt;!-- inside container component --&gt;</span>
<span class="nt">&lt;ng-content&gt;&lt;/ng-content&gt;</span>
</code></pre></div>





<div class="highlight"><pre class="highlight html"><code><span class="c">&lt;!-- inside another component --&gt;</span>
<span class="nt">&lt;container-component&gt;</span>
  <span class="nt">&lt;p&gt;</span>Content Here<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/container-component&gt;</span>
</code></pre></div>



<h3>
  <a name="multislot-targeted-projection-" href="#multislot-targeted-projection-" class="anchor">
  </a>
  Multi-slot ( Targeted projection )
</h3>

<blockquote>
<p><code>ng-content</code> accepts a <code>select</code> attribute, which allow us to set specific css selector name for that slot.</p>
</blockquote>

<ul>
<li>Using element(s) <code>name</code>
</li>
</ul>

<div class="highlight"><pre class="highlight html"><code><span class="c">&lt;!-- inside container component --&gt;</span>
<span class="nt">&lt;ng-content</span> <span class="na">select=</span><span class="s">"slot-one"</span><span class="nt">&gt;&lt;/ng-content&gt;</span>
</code></pre></div>





<div class="highlight"><pre class="highlight html"><code><span class="c">&lt;!-- inside another component using container component --&gt;</span>
<span class="nt">&lt;container-component&gt;</span>
  <span class="nt">&lt;slot-one&gt;</span>Content For Slot one<span class="nt">&lt;/slot-one&gt;</span>
<span class="nt">&lt;/container-component&gt;</span>
</code></pre></div>



<p>If you using it in a normal angular cli setup, you will hit an error if you use the <code>&lt;slot-one&gt;</code> tag now.</p>

<blockquote>
<p>Unhandled Promise rejection: Template parse errors: 'slot-one' is not a known element, Angular does not recognize the <code>slot-one</code> tag. <code>slot-one</code> is neither a directive nor a component</p>
</blockquote>

<p>A quick way to get around this error is to add schema metadata property in your module, set value to NO_ERRORS_SCHEMA in your module file.<br>
</p>

<div class="highlight"><pre class="highlight typescript"><code><span class="c1">// app.module.ts</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">NgModule</span><span class="p">,</span> <span class="nx">NO_ERRORS_SCHEMA</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span> <span class="c1">//</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">BrowserModule</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/platform-browser</span><span class="dl">'</span><span class="p">;</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">AppComponent</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./app.component</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ContainerComponent</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./container-component</span><span class="dl">'</span><span class="p">;</span>

<span class="p">@</span><span class="nd">NgModule</span><span class="p">({</span>
  <span class="na">imports</span><span class="p">:</span> <span class="p">[</span><span class="nx">BrowserModule</span><span class="p">],</span>
  <span class="na">declarations</span><span class="p">:</span> <span class="p">[</span><span class="nx">AppComponent</span><span class="p">,</span> <span class="nx">ContainerComponent</span><span class="p">],</span>
  <span class="na">bootstrap</span><span class="p">:</span> <span class="p">[</span><span class="nx">AppComponent</span><span class="p">],</span>
  <span class="na">schemas</span><span class="p">:</span> <span class="p">[</span><span class="nx">NO_ERRORS_SCHEMA</span><span class="p">],</span> <span class="c1">// add this line</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">AppModule</span> <span class="p">{}</span>
</code></pre></div>



<ul>
<li>Using Attribute(s) <code>[name]</code> | <code>[name][another-name]</code>
</li>
</ul>

<div class="highlight"><pre class="highlight html"><code><span class="c">&lt;!-- inside container component --&gt;</span>
<span class="c">&lt;!-- Using Single Attribute --&gt;</span>
<span class="nt">&lt;ng-content</span> <span class="na">select=</span><span class="s">"[slot-one]"</span><span class="nt">&gt;&lt;/ng-content&gt;</span>
<span class="c">&lt;!-- Using Multiple Attributes --&gt;</span>
<span class="nt">&lt;ng-content</span> <span class="na">select=</span><span class="s">"[slot][two]"</span><span class="nt">&gt;&lt;/ng-content&gt;</span>
</code></pre></div>





<div class="highlight"><pre class="highlight html"><code><span class="c">&lt;!-- inside another component using container component --&gt;</span>
<span class="nt">&lt;container-component&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">slot-one</span><span class="nt">&gt;</span>Content For Slot one<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">slot</span> <span class="na">two</span><span class="nt">&gt;</span>Content For Slot two<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/container-component&gt;</span>
</code></pre></div>



<ul>
<li>Using Attribute with Value <code>[name="value"]</code>
</li>
</ul>

<div class="highlight"><pre class="highlight html"><code><span class="c">&lt;!-- inside container component --&gt;</span>
<span class="nt">&lt;ng-content</span> <span class="na">select=</span><span class="s">"[slot='one']"</span><span class="nt">&gt;&lt;/ng-content&gt;</span>
<span class="nt">&lt;ng-content</span> <span class="na">select=</span><span class="s">"[slot='two']"</span><span class="nt">&gt;&lt;/ng-content&gt;</span>
</code></pre></div>





<div class="highlight"><pre class="highlight html"><code><span class="c">&lt;!-- inside another component using container component --&gt;</span>
<span class="nt">&lt;container-component&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">slot=</span><span class="s">"one"</span><span class="nt">&gt;</span>Content For Slot one<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">slot=</span><span class="s">"two"</span><span class="nt">&gt;</span>Content For Slot two<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/container-component&gt;</span>
</code></pre></div>



<ul>
<li>Using class(s) <code>.name</code> | <code>.name.another-name</code>
</li>
</ul>

<div class="highlight"><pre class="highlight html"><code><span class="c">&lt;!-- inside container component --&gt;</span>
<span class="c">&lt;!-- Using Single Class --&gt;</span>
<span class="nt">&lt;ng-content</span> <span class="na">select=</span><span class="s">".slot-one"</span><span class="nt">&gt;&lt;/ng-content&gt;</span>
<span class="c">&lt;!-- Using Multi Class --&gt;</span>
<span class="nt">&lt;ng-content</span> <span class="na">select=</span><span class="s">".one.two"</span><span class="nt">&gt;&lt;/ng-content&gt;</span>
</code></pre></div>





<div class="highlight"><pre class="highlight html"><code><span class="c">&lt;!-- inside another component using container component --&gt;</span>
<span class="nt">&lt;container-component&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"slot-one"</span><span class="nt">&gt;</span>Content For Slot one<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"one two"</span><span class="nt">&gt;</span>Content For Slot one <span class="err">&amp;</span> two<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/container-component&gt;</span>
</code></pre></div>



<ul>
<li>Without using wrapping div</li>
</ul>

<p>as you can see in the previous example you can use the target slot by wrapping your content with div or element and attach the selector with it, but in some case you just want to put it there.</p>

<blockquote>
<p>Using <code>ngProjectAs</code> angular attribute on ng-container tag or any tag you want<br>
</p>
</blockquote>

<div class="highlight"><pre class="highlight html"><code><span class="c">&lt;!-- inside container component --&gt;</span>
<span class="c">&lt;!-- Element --&gt;</span>
<span class="nt">&lt;ng-content</span> <span class="na">select=</span><span class="s">"slot-one"</span><span class="nt">&gt;&lt;/ng-content&gt;</span>
<span class="c">&lt;!-- Attributes --&gt;</span>
<span class="nt">&lt;ng-content</span> <span class="na">select=</span><span class="s">"[slot-one]"</span><span class="nt">&gt;&lt;/ng-content&gt;</span>
<span class="nt">&lt;ng-content</span> <span class="na">select=</span><span class="s">"[slot][two]"</span><span class="nt">&gt;&lt;/ng-content&gt;</span>
<span class="c">&lt;!-- Attributes with Value --&gt;</span>
<span class="nt">&lt;ng-content</span> <span class="na">select=</span><span class="s">"[slot='one']"</span><span class="nt">&gt;&lt;/ng-content&gt;</span>
<span class="nt">&lt;ng-content</span> <span class="na">select=</span><span class="s">"[slot='two']"</span><span class="nt">&gt;&lt;/ng-content&gt;</span>
</code></pre></div>





<div class="highlight"><pre class="highlight html"><code><span class="c">&lt;!-- Inside ngProjectAs use projected name--&gt;</span>
<span class="nt">&lt;ng-container</span> <span class="na">ngProjectAs=</span><span class="s">"slot-one"</span><span class="nt">&gt;</span>
  Very <span class="nt">&lt;strong&gt;</span>important<span class="nt">&lt;/strong&gt;</span> text with tags.
<span class="nt">&lt;/ng-container&gt;</span>
<span class="nt">&lt;ng-container</span> <span class="na">ngProjectAs=</span><span class="s">"[slot][two]"</span><span class="nt">&gt;</span>
  Very <span class="nt">&lt;strong&gt;</span>important<span class="nt">&lt;/strong&gt;</span> text with tags.
<span class="nt">&lt;/ng-container&gt;</span>
</code></pre></div>



<h3>
  <a name="inside-raw-ngfor-endraw-" href="#inside-raw-ngfor-endraw-" class="anchor">
  </a>
  Inside <code>*ngFor</code>
</h3>



<div class="highlight"><pre class="highlight typescript"><code><span class="c1">// Container Component</span>
<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="p">...</span>
  <span class="na">template</span><span class="p">:</span> <span class="s2">`
    &lt;li *ngFor="let item of items"&gt;
      &lt;ng-template [ngTemplateOutlet]="templateRef" [ngTemplateOutletContext]="{$implicit: item}"&gt;&lt;/ng-template&gt;
    &lt;/li&gt;
  `</span>
<span class="p">})</span>
<span class="kd">class</span> <span class="nx">TabsComponent</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">ContentChild</span><span class="p">(</span><span class="nx">TemplateRef</span><span class="p">)</span> <span class="nx">templateRef</span><span class="p">:</span><span class="nx">TemplateRef</span><span class="p">;</span>
  <span class="p">@</span><span class="nd">Input</span><span class="p">()</span> <span class="nx">items</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>





<div class="highlight"><pre class="highlight html"><code><span class="c">&lt;!-- data here is the array  input for container-component --&gt;</span>
<span class="nt">&lt;container-component</span> <span class="na">[items]=</span><span class="s">"data"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ng-template</span> <span class="na">let-item</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- here we can use item --&gt;</span>
    {{ item }}
  <span class="nt">&lt;/ng-template&gt;</span>
<span class="nt">&lt;/container-component&gt;</span>
</code></pre></div>




<hr>


</div>


    </div>
    <footer>

    </footer>
  </body>
</html>
